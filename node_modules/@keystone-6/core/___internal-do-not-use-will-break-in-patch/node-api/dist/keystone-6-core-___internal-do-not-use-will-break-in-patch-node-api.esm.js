import { c as createSystem, i as initConfig } from '../../../dist/initConfig-263d65de.esm.js';
import '@babel/runtime/helpers/objectSpread2';
import 'p-limit';
import '../../../dist/core-c6bc4160.esm.js';
import '../../../dist/mysql-a7009855.esm.js';
import '../../../dist/graphql-ts-schema-ecd3b4c2.esm.js';
import '@graphql-ts/schema';
import 'graphql-type-json';
import 'graphql-upload/public/GraphQLUpload.js';
import 'graphql';
import 'decimal.js';
import '@graphql-ts/schema/api-without-context';
import '@graphql-ts/extend';
import '@graphql-ts/schema/api-with-context';
import '@graphql-tools/schema';
import '@babel/runtime/helpers/objectWithoutProperties';
import '../../../dist/graphql-errors-68845105.esm.js';
import 'apollo-server-errors';
import 'path';
import 'util';
import 'fs-extra';
import 'resolve';
import '@nodelib/fs.walk';
import '@emotion/hash';
import '../../../dist/admin-meta-graphql-9585711c.esm.js';
import '@apollo/client';
import '@babel/runtime/helpers/classPrivateFieldInitSpec';
import '@babel/runtime/helpers/classPrivateFieldGet';
import '@babel/runtime/helpers/classPrivateFieldSet';
import '../../../dist/types-for-lists-ffad1dcf.esm.js';
import 'graphql/execution/values';
import 'pluralize';
import '@babel/runtime/helpers/defineProperty';
import 'uuid';
import 'image-type';
import 'image-size';
import 'stream';
import '@aws-sdk/s3-request-presigner';
import '@aws-sdk/client-s3';
import '@aws-sdk/lib-storage';
import 'crypto';
import 'filenamify';
import '@sindresorhus/slugify';
import 'cuid';
import '../../../dist/package-path-5ec371a3.esm.js';

function createQueryAPI(config, prismaClient) {
  const {
    getKeystone
  } = createSystem(initConfig(config));
  const keystone = getKeystone(prismaClient);
  keystone.connect();
  return keystone.createContext({
    sudo: true
  }).query;
}

export { createQueryAPI };
